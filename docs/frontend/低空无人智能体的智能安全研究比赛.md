## **基于UI原型的《低空无人智能体智能安全研究》详细方案**

### 1. 项目核心目标与系统架构

根据UI原型图（Page 1）的设计，本项目的目标是构建一个功能完备的**“低空无人智能体智能对抗攻防演练系统”**。该系统不仅要实现核心的攻防算法，还要提供一个围绕演练任务的管理和可视化平台。

#### 1.1 系统顶层架构

系统架构可分解为三大功能平面和一套底层支撑：

*   **A. 核心功能平面 (Core Functions):**
    *   **任务管理 (Task Management):** 用户进行攻防实验的核心交互区域。
        *   攻击场景选择
        *   防御场景选择
        *   自定义场景
        *   攻防原理介绍
        *   攻防算法实战
        *   攻防过程可视化
    *   **演练管理 (Drill Management):** 对演练过程和结果进行管理和分析。
        *   演练态势
        *   评分报告
        *   组队管理
    *   **演练场景 (Drill Scenarios):** 定义了系统需要模拟的三大核心挑战。
        *   **光电干扰** (Photoelectric Interference)
        *   **对抗攻击** (Adversarial Attack)
        *   **场景跃变** (Scene Abrupt Change)

*   **B. 运维管理平面 (Operations & Maintenance):** 支撑系统后台稳定运行。
    *   资源调度
    *   任务监控
    *   日志管理
    *   系统管理

*   **C. 底层基础单元 (Infrastructure):** 硬件与网络基础。
    *   异构处理单元 (e.g., CPU + GPU)
    *   高性能存储单元 (e.g., SSD)
    *   网络服务单元

### 2. 核心功能模块详细需求 (Detailed Requirements)

以下需求根据UI原型图（Page 2, 3, 4）进行详细分解。

#### 2.1 对抗攻击模块 (Adversarial Attack Module)

此模块用于模拟对目标检测模型的对抗性攻击。

*   **数据来源:** UI Prototype, Page 2
*   **配置要求:**

| 配置项 | 必选值/类型 | 备注 |
| :--- | :--- | :--- |
| **类型 (Type)** | `对抗攻击` | 固定选项 |
| **模型 (Model)** | `Yolov5` | 必须支持YOLOv5作为攻击目标基线 |
| **数据集 (Dataset)**| `COCO` | 默认测试数据集 |
| **攻击算法** | 下拉菜单，需实现以下所有算法：<br>- `PGD` (Projected Gradient Descent)<br>- `FGSM` (Fast Gradient Sign Method)<br>- `C&W` (Carlini & Wagner)<br>- `Deepfool`<br>- `AdvPatch`<br>- `DPatch` | 这是**AI核心算法层 (`src/`)** 的关键任务清单。 |
| **算法参数** | 动态表单，需支持：<br>- `扰动预算 (epsilon)`<br>- `学习率 (learning_rate)`<br>- `迭代次数 (iterations)`<br>...等 | 参数需根据所选算法动态显示。 |
| **可视化** | 需支持选择并展示以下内容：<br>- `初始样本` (Original Sample)<br>- `对抗样本` (Adversarial Sample)<br>- `初始结果` (Original Result)<br>- `攻击结果` (Attacked Result) | 这是**前端 (`frontend/`)** 的核心可视化需求。 |

#### 2.2 环境干扰模块 (Environmental Interference Module)

此模块用于模拟无人机在真实环境中遇到的各种图像质量下降问题。

*   **数据来源:** UI Prototype, Page 3
*   **配置要求:**

| 配置项 | 必选值/类型 | 备注 |
| :--- | :--- | :--- |
| **类型 (Type)** | `干扰类型` | 固定选项 |
| **模型 (Model)** | `Yolov5` | 干扰效果的评估目标 |
| **数据集 (Dataset)**| `COCO` | 默认测试数据集 |
| **干扰类型** | 下拉菜单，需实现以下所有干扰：<br>- `亮度` (Brightness)<br>- `高斯噪声` (Gaussian Noise)<br>- `对比度` (Contrast)<br>- `扭曲` (Distortion)<br>- `场景越变` (Scene Change) | 这是**AI核心算法层 (`src/utils/`)** 的图像增广/干扰任务。 |
| **干扰参数** | `等级` (Level)，接收数值输入 | 用于控制干扰的强度。 |
| **可视化** | 需支持选择并展示以下内容：<br>- `初始样本`<br>- `扰动样本` (Perturbed Sample)<br>- `初始结果`<br>- `攻击结果` (Attacked Result) | 与2.1类似，前端需实现。 |

#### 2.3 对抗防御模块 (Adversarial Defense Module)

此模块用于测试和展示我们自己开发的防御算法的性能。

*   **数据来源:** UI Prototype, Page 4
*   **配置要求:**

| 配置项 | 必选值/类型 | 备注 |
| :--- | :--- | :--- |
| **类型 (Type)** | `对抗防御` | 固定选项 |
| **模型 (Model)** | `Yolov10` | **重要提示：** 防御模型应基于更先进的`YOLOv10`。 |
| **数据集 (Dataset)**| `COCO` | 默认测试数据集 |
| **防御算法** | 下拉菜单，需实现：<br>1. **SOTA基线:**<br>   - `PGDTraining`<br>   - `FGM`<br>   - `FrddAT`<br>   - `YOPO`<br>   - `FreeLP`<br>2. **我们的方案:**<br>   - **`SkyGuard-Defense` (占位名)** | 我们的核心创新点将在这里体现，并与SOTA方法进行对比。 |
| **算法参数** | 动态表单，需支持：<br>- `对抗样本比例`<br>- `学习率`<br>- `迭代次数`<br>...等 | 这些参数主要用于**模型训练阶段**。 |
| **可视化** | 需支持选择并展示：<br>- `初始样本`<br>- `对抗样本` | 直观对比防御前后的样本。 |

### 3. 技术实现路径与任务分解

基于以上需求，我们将任务分解并映射到你的GitHub仓库结构中。

#### 3.1 `src/` - AI核心模型层

*   **[ ] 任务1: 模型库搭建**
    *   实现/集成 `YOLOv5` 作为攻击基线。
    *   实现/集成 `YOLOv10` 作为防御模型的基础架构。
*   **[ ] 任务2: 攻击算法实现**
    *   在 `src/utils/attacks.py` (建议) 中，实现Page 2中列出的所有对抗攻击算法 (`PGD`, `FGSM`, `C&W`等)。
*   **[ ] 任务3: 干扰函数实现**
    *   在 `src/utils/interferences.py` (建议) 中，实现Page 3中列出的所有环境干扰函数 (亮度、噪声、对比度等)。
*   **[ ] 任务4: 防御算法实现**
    *   **基线复现:** 在 `src/defenses/` 目录下，复现Page 4中列出的SOTA防御算法，用于性能对比。
    *   **核心创新:** 设计并实现我们自己的 **`SkyGuard-Defense`** 算法。这可能是一个新的模型结构、一种新的训练范式或一种输入预处理模块。
*   **[ ] 任务5: 统一推理接口**
    *   编写 `inference.py`，提供一个简洁的函数，可以加载指定模型（带或不带防御），对输入图片进行处理并返回结果（如bounding boxes, scores）。

#### 3.2 `backend/` - 后端服务层

*   **[ ] 任务1: 场景执行API**
    *   创建 `POST /api/execute/attack` 接口，接收前端传来的模型、算法、参数和图片，调用`src/`执行攻击，并返回结果。
    *   创建 `POST /api/execute/interfere` 接口，逻辑同上。
    *   创建 `POST /api/execute/defend` 接口，逻辑同上。
*   **[ ] 任务2: 任务管理API**
    *   实现 `/api/tasks` 相关接口，用于管理长时间运行的任务（如模型训练），并提供任务状态查询。
*   **[ ] 任务3: 结果与日志API**
    *   实现 `/api/results/{task_id}` 获取任务结果。
    *   实现 `/api/logs/{task_id}` 获取任务日志。

#### 3.3 `frontend/` - 前端应用层

*   **[ ] 任务1: 搭建主页面布局**
    *   根据Page 1的布局，创建包含左侧导航栏、顶部标题和主内容区的应用框架。
    *   实现底部四个快捷按钮：`资源调度`, `评分报告`, `任务监控`, `系统管理`。
*   **[ ] 任务2: 实现场景选择页面**
    *   开发一个高度可复用的“场景选择”组件。
    *   根据传入的类型（攻击/干扰/防御），动态渲染Page 2, 3, 4中所示的表单控件（下拉框、输入框）。
*   **[ ] 任务3: 实现可视化面板**
    *   开发一个结果展示组件，能够并排或分栏显示“初始/对抗/扰动样本”和“初始/攻击结果”的图片及标注框。
*   **[ ] 任务4: 数据流整合**
    *   实现点击“开始”按钮后，将表单数据打包，调用`backend`的API。
    *   轮询或使用WebSocket接收后端任务状态和结果，并更新到可视化面板上。

### 4. 总结与下一步行动

这份文档全面地将UI原型图转化为了具体、可分解的开发任务。它清晰地定义了项目的范围、功能和技术要求。

**下一步行动建议：**
1.  **团队任务分配:** 将上述任务列表中的每一项分配给具体的团队成员。
2.  **确定技术栈细节:** 例如，`backend`确定使用FastAPI还是Flask，`frontend`确定UI组件库（Element Plus, Ant Design Vue等）。
3.  **制定详细时间表:** 为每个任务设置明确的开始和截止日期，确保在**2025年8月15日**前完成所有开发和文档工作。